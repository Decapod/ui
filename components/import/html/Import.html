<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Decapod Import</title>
        
        <link rel="stylesheet" type="text/css" href="../../../lib/infusion/framework/fss/css/fss-reset.css" />
        <link rel="stylesheet" type="text/css" href="../../../lib/infusion/framework/fss/css/fss-layout.css" />       
        <link rel="stylesheet" type="text/css" href="../../../lib/infusion/components/uploader/css/Uploader.css" />
        <link rel="stylesheet" type="text/css" href="../../../shared/css/Decapod.css" />
        <link rel="stylesheet" type="text/css" href="../css/Import.css" />
        
        <!-- Required JavaScript modules for the Import component. -->
        <script type="text/javascript" src="../../../lib/infusion/MyInfusion.js"></script>
        <script type="text/javascript" src="../../../shared/js/decapodContext.js"></script>
        <script type="text/javascript" src="../js/ImportDemands.js"></script>
        <script type="text/javascript" src="../js/Import.js"></script>
        
    </head>
    
    <body>
    
        <section class="ds-decapod">
            
            <!-- NAVIGATION BAR -->
            <nav class="ds-navigationBar">
                <ul class="ds-navigationBar-flatList">
                    <li><img alt="" src="../../../shared/images/navigationBar_home.png"><a href="../../bookManagement/html/bookManagement.html">Book Management</a></li>
                    <span class="ds-navigationBar-chevron">&#x3009</span>
                    <li><img alt="" src=""><a class="ds-navigationBar-hereElement" href="">Untitled</a></li>
                    <span class="ds-navigationBar-chevron">&#x3009</span>
                    <li><img alt="" src=""><a class="ds-navigationBar-hereElement" href="">Import</a></li>
                </ul>
            </nav>

            <!-- DECAPOD IMPORT INTERFACE -->
            <section class="dc-import">
                <header class="ds-header">
                    <h1>Import</h1>
                </header>
                
                <!-- Basic upload controls, used when JavaScript is unavailable -->
                <form method="post" enctype="multipart/form-data" class="fl-progEnhance-basic">
                    <p>Use the Browse button to add a file, and the Save button to upload it.</p>
                    <input name="fileData" type="file" />
                    <input class="ds-import-basic-save" type="submit" value="Save"/>
                </form>
                
                <!-- Uploader container -->
                <form class="flc-uploader ds-import-tables fl-progEnhance-enhanced" method="get" enctype="multipart/form-data">
                
                    <!-- File Queue, which is split up into two separate tables: one for the header and body -->
                    <div class="ds-import-header-border">
                        <table class="ds-import-header">
                            <tr>
                                <th class="ds-import-file-name">File Name</th>	
                            </tr>
                        </table>
                    </div>
                    
                    <!-- File Queue body, which is the default container for the FileQueueView component -->
                    <table summary="The list of files" class="flc-uploader-queue ds-import-queue">
                        <caption>File Upload Queue:</caption>
                        <tbody>
                            <!-- Template for file row -->
                            <tr class="flc-uploader-file-tmplt flc-uploader-file">
                                <td class="dc-file-number ds-file-number">2000.</td>
                                <td class="flc-uploader-file-name ds-import-file-name">File Name Placeholder</td>
                                <td class="ds-import-file-actions">
                                    <button type="button" class="flc-uploader-file-action" tabindex="-1"></button>
                                </td>
                            </tr>

                            <!-- Template for error info row -->
                            <tr class="flc-uploader-file-error-tmplt ds-import-file-error">
                                <td colspan="3" class="flc-uploader-file-error"></td>
                            </tr>
                            
                            <!-- Initial instructions -->
                            <tr><td class="flc-uploader-browse-instructions ds-import-browse-instructions">
                                <p>Choose <em>Browse files</em> to add images to be imported.</p>
                            </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <!-- File progress bar template, used to generate progress bars for each file in the queue -->
                    <div class="flc-uploader-file-progressor-tmplt ds-import-file-progress"></div>           

                    <!-- Status footer -->
                    <div class="flc-uploader-queue-footer ds-import-queue-footer fl-clearfix">
                        
                        <!-- Add More / Browse Button -->
                        <div class="flc-uploader-button-browse ds-import-browse fl-force-right fl-container-flex">
                            <div class="flc-uploader-button-browse-text">Browse files</div>
                        </div>
                    
                        <!-- 
                            TODO: Wire up remove all button to remove all files from the queue. 
                            TODO: Need to deside what should happen to uploaded files.
                            <div class="dc-import-remove-all ds-import-remove-all-dim fl-force-right fl-container-flex"><a href="#">Remove all</a></div>
                        -->
                        
                        <!-- Total progress bar -->
                        <div class="flc-uploader-total-progress ds-import-total-progress-okay"></div>
                        <div class="flc-uploader-total-progress-text ds-import-total-progress-text"></div>
                        <div class="flc-uploader-upload-limit-text ds-import-limit-text"></div>
                        
                        <!-- Errors panel -->
                        <div class="flc-uploader-errorsPanel ds-import-errorsPanel">
                            <div class="ds-import-errorsPanel-header"><span class="flc-uploader-errorPanel-header">Warnings:</span></div>

                            <!-- The markup for each error section will be rendered into these containers. -->
                            <div class="flc-uploader-errorPanel-section-fileSize"></div>
                            <div class="flc-uploader-errorPanel-section-numFiles"></div>
                             
                             <!-- Error section template.-->
                             <div class="flc-uploader-errorPanel-section-tmplt ds-import-hidden-templates">
                                <div class="fl-container-flex">
                                    <div class="flc-uploader-errorPanel-section-title ds-import-errorPanel-section-title fl-force-left">
                                        x files were too y and were not added to the queue.
                                    </div>
                                    <button type="button" class="flc-uploader-errorPanel-section-removeButton ds-import-errorPanel-section-removeButton fl-force-right">
                                         <span class="flc-uploader-erroredButton-text ds-import-hidden">Remove error</span>
                                    </button>
                                </div>
                                
                                <div class="fl-container-flex">
                                    <div class="flc-uploader-errorPanel-section-details ds-import-errorPanel-section-details">
                                        <p>The following files were not added:</p>
                                        <p class="flc-uploader-errorPanel-section-files">file_1, file_2, file_3, file_4, file_5 </p>
                                    </div>
                                </div>                        
                                <div class="fl-container-flex">
                                    <button type="button" class="flc-uploader-errorPanel-section-toggleDetails ds-import-errorPanel-section-toggleDetails">Hide this list</button>
                                </div>
                             </div>
                         </div>                
                    </div>
                    
                    <!-- Upload buttons -->
                    <div class="ds-import-buttons">
                        <!--
                            TODO: Wire up the cancel button to cancel upload and remove uploaded files from the server
                            <a href="#" class="dc-import-cancel ds-import-cancel">Cancel import</a> 
                        -->
                        <button type="button" class="flc-uploader-button-pause ds-import-button-stop ds-import-hidden">Stop Upload</button>
                        <button type="button" class="flc-uploader-button-upload ds-import-button-upload ds-import-dim">Import selected</button>
                    </div>
                    
                    <div class="flc-uploader-status-region fl-offScreen-hidden"></div>
                </form>        
            
            </section>
            <script>
                decapod.import(".dc-import");
            </script>
        </section>
    </body>
</html>
